## Tekton Triggers v0.8.0

## Features

* Propagate annotations from Eventlistener to service and deployment ([#712](https://github.com/tektoncd/triggers/pull/712))

This PR adds feasibility to propagate annotations from the EventListener to deployment and services.
If there are any custom annotations on services/deployment, then it needs to be added to EventListener annotations, so that those will be propagated otherwise they will be overwritten.

* Add validation for replicas ([#717](https://github.com/tektoncd/triggers/pull/717))

This PR handles proper validation for replicas which are provided as part of EventListener spec.
Produce below error if provided replica is invalid
```text
Error from server (BadRequest): error when creating "STDIN": admission webhook "validation.webhook.triggers.tekton.dev" 
```

* Add TriggerCRD object Ref to Eventlistener Spec ([#726](https://github.com/tektoncd/triggers/pull/726))

This PR helps to specify TriggerCRD object inside the Eventlistener spec as a reference using triggerRef field,
So this way user can create TriggerCRD separately and bind it inside Eventlistener spec.

* Migrate reconcilers to use gen reconcilers ([#733](https://github.com/tektoncd/triggers/pull/733))

PR uses genreconciler from knative/pkg to reduce boilerplate code which was required for writing reconciler.
Also triggers reconciler now emits K8s events on reconciliation failures.

* Add validation and default for TriggerCRD object ([#738](https://github.com/tektoncd/triggers/pull/738))

This PR adds the validation and defaults around TriggerCRD.

## Breaking Changes :rotating_light:
* Switch trigger sa based auth to impersonate ([#705](https://github.com/tektoncd/triggers/pull/705))
* Switch trigger sa ref from global to namespace scoped ([#704](https://github.com/tektoncd/triggers/pull/704))

The optional EventListenerTrigger based level of authentication for creating Tekton object has had its ServiceAccount reference changed from an ObjectReference to a string ServiceAccountName, effectively enforcing that the ServiceAccount be in the same namespace as the EventListenerTrigger.

## Fixes :bug:
* Fix Incorrect number of response for Forbidden error ([#673](https://github.com/tektoncd/triggers/pull/673))
* Use Kaniko instead of img in the tutorial to fix permission issue ([#701](https://github.com/tektoncd/triggers/pull/701))
* Cleanup Reconciler Tests in order to pick up Genreconciler updates ([#706](https://github.com/tektoncd/triggers/pull/706))
* Fix update deployment when there is a change in replicas ([#715](https://github.com/tektoncd/triggers/pull/715))
* Add basic syntactical parsing of CEL filters and expressions ([#745](https://github.com/tektoncd/triggers/pull/745))

Perform simple syntax checking of CEL filter and overlays in the Webhook validator, perfunctory syntax validation of the expressions in the interceptor but it won't detect logical errors (expressions that rely on JSON bodies).

## Misc :hammer:
* Add TestBuilder for TriggerCRD ([#680](https://github.com/tektoncd/triggers/pull/680))
* Use ko:// prefix for all images ([#692](https://github.com/tektoncd/triggers/pull/692))

Adds ko:// scheme to images used by ko (dev only)

* Fix GitHub example bindings ([#694](https://github.com/tektoncd/triggers/pull/694))
* Add interceptor to processTriggerSpec ([#695](https://github.com/tektoncd/triggers/pull/695))

This is an experimental feature and its a part of creating CLI for TriggerRun. It contains the parts that add an interceptor to processTriggerSpec, updates readHTTP to print out resources, and trigger function to run Trigger CLI.

* Fix URL in Release Cheat Sheet ([#696](https://github.com/tektoncd/triggers/pull/696))
* Change tekton.dev to triggers.tekton.dev for e2e Tests ([#702](https://github.com/tektoncd/triggers/pull/702))
* Add createResource in TriggerRun CLI ([#708](https://github.com/tektoncd/triggers/pull/708))

This is also an experimental feature for TriggerRun CLI

* Add khrm@ as an OWNER ([#710](https://github.com/tektoncd/triggers/pull/710))
* Mark some command tests as end-to-end ([#719](https://github.com/tektoncd/triggers/pull/719))
* Use another NodeSelector value in EventListener tests ([#720](https://github.com/tektoncd/triggers/pull/720))

This change helps to run e2e on non amd64 architecture (s390x, ppc64le, etc).

* Add TriggerCRD object to Known Type for schema ([#732](https://github.com/tektoncd/triggers/pull/732))
* Change Eventlistener Trigger Binding and Trigger Template type to TriggerSpec ([#740](https://github.com/tektoncd/triggers/pull/740))

## Docs :book:
* Fix release cheat sheet doc ([#693](https://github.com/tektoncd/triggers/pull/693))
* Add namespace to the commands in Nginx ingress doc ([#698](https://github.com/tektoncd/triggers/pull/698))
* Add links to versioned docs for v0.7.0 ([#703](https://github.com/tektoncd/triggers/pull/703))
* Update eventlistener doc to include eventlistener responsibility ([#721](https://github.com/tektoncd/triggers/pull/721))

Added information about the responsibility of Eventlistener.

* Update README for Bitbucket example ([#724](https://github.com/tektoncd/triggers/pull/724))
* Update triggertemplate doc and example to use tt.params ([#725](https://github.com/tektoncd/triggers/pull/725))
* Clarify Bitbucket and Github HMAC generation instruction in example ([#728](https://github.com/tektoncd/triggers/pull/728))
* Updates to the happy path readme(s) ([#730](https://github.com/tektoncd/triggers/pull/730))
* Remove vendor specific cluster setup instructions ([#739](https://github.com/tektoncd/triggers/pull/739))
* Update link to happy path ([#742](https://github.com/tektoncd/triggers/pull/742))
* Update pull request template for release-note ([#743](https://github.com/tektoncd/triggers/pull/743))

## How to upgrade from v0.7.0 :up_arrow:
```text
kubectl apply -f https://storage.googleapis.com/tekton-releases/triggers/previous/v0.8.0/release.yaml
```
`NOTE: Due to #750, you will have to manually add replicas: 1 to your EL spec before applying the upgrade`